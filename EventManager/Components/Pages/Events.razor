@page "/events"
@using EventManager.Models

<h2>Eventos Disponíveis</h2>

@if (events is null)
{
    <p>Carregando eventos...</p>
}
else if (events.Count == 0)
{
    <p>Nenhum evento encontrado.</p>
}
else
{
    @foreach (var eventItem in events)
    {
        <EventCard Event="eventItem" />
    }
}

@code {
    private List<EventModel>? events;

    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(500);
        events = GenerateEvents(10);
    }

    private List<EventModel> GenerateEvents(int count)
    {
        var list = new List<EventModel>();
        for (int i = 1; i <= count; i++)
        {
            list.Add(new EventModel
                {
                    Id = i,
                    Name = $"Evento {i}",
                    Date = DateTime.Now.AddDays(i),
                    Location = $"Local {i}"
                });
        }
        return list;
    }
}
